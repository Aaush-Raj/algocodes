{% extends 'App/home.html' %}

{% block css %}

<script src="https://cdn.anychart.com/releases/8.7.1/js/anychart-core.min.js" type="text/javascript"></script>
  <script src="https://cdn.anychart.com/releases/8.7.1/js/anychart-stock.min.js" type="text/javascript"></script>
  <script src="https://cdn.anychart.com/releases/8.7.1/js/anychart-data-adapter.min.js"></script>
  <style>
    #chart_container {
      width: 900px !important;
      height: 350px !important;
      margin-top: -20px;
      padding: 0;
    }
  </style>

{% endblock css %}

{% block content %}
<div class="data_box">
    <h3>
        BANKNIFTY CURRENT VALUE <center>{{banknifty_current_value}}</center>
     </h3>
</div>

<div class="data_box" style="background-color:rgb(87, 230, 255);">
         <h3>
        BANKNIFTY NEAREST STRIKE PRICE <center>{{banknifty_current_strike}}</center>
    </h3>
</div>
    
<div class="data_box" style="background-color: rgb(0, 255, 13);">
 <h3>BANKNIFTY MAJOR SUPPORT : <center>{{banknifty_major_support}}</center></h3>
</div>
    
<div class="data_box" style="background-color: rgb(248, 45, 45);">
<h3>BANKNIFTY MAJOR RESISTANCE : <center> {{banknifty_major_resistance}}</center></h3>
    
</div>

{% endblock content %}

{% block chart_content %}
<div class="chart">
    {% comment %} <canvas id="myChart" style="height:400px;"></canvas> {% endcomment %}
    <canvas id="lineChart" style="height:300px;"></canvas>
</div>

<script>
    $(document).ready(function() {
        var ctx2 = document.getElementById('lineChart').getContext('2d');


        var lineChart = new Chart(ctx2, {
            type: 'line',
            data: {
            labels:['Monday','Tuesday','Wednesday','Thursday','Friday'] ,
            datasets: [{
                label: 'BANKNIFTY 50 LAST WEEK DATA',
                data: [15900,16000,16400,15850,16600],
                fill: true,
                borderColor: 'rgb(75, 192, 192)',
                hoverBorderColor:'green',
                tension: 0.1
            }]}
        
        });

    });    
</script>






<div id="chart_container"></div>
<script>
    anychart.onDocumentReady(function() {

        // load data
        anychart.data.loadCsvFile("https://static.anychart.com/git-storage/word-press/data/candlestick-chart-tutorial/EUR_USDHistoricalData2year.csv", function(data) {

            // create a data table
            var dataTable = anychart.data.table(0, 'MMM d, yyyy');
            dataTable.addData(data);


            // map data
            var mapping = dataTable.mapAs({
                'open': 2,
                'high': 3,
                'low': 4,
                'close': 1
            });

            // set the chart type
            var chart = anychart.stock();

            // set the series
            var series = chart.plot(0).candlestick(mapping);
            series.fallingFill("red");
            series.fallingStroke("red");
            series.risingFill("green");
            series.risingStroke("green");
            series.name("BANKNIFTY LIVE TRADE DATA  ");

            // set the chart title
            chart.title("BANKNIFTY CANDELSTICK DATA");

            // set the container id
            chart.container('chart_container');

            // draw the chart
            chart.draw();

        });

    });
</script>


{% endblock chart_content %}